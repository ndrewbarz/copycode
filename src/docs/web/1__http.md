---
title: HTTP - протокол
date: "14-09-2020"
spoiler: Hypertext Transfer Protocol (HTTP) - протоколом клиент-серверного взаимодействия
---

---

HTTP является **протоколом** клиент-серверного взаимодействия, что означает инициирование запросов к серверу самим получателем, обычно веб-браузером (web-browser).

Клиенты и серверы взаимодействуют, обмениваясь одиночными сообщениями (а не потоком данных). Сообщения, отправленные клиентом, обычно веб-браузером, называются **запросами**, а сообщения, отправленные сервером, называются **ответами**.

HTTP является протоколом прикладного уровня, который чаще всего использует возможности другого протокола - [TCP](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/TCP) (или [TLS](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/TLS) - защищённый TCP) - для пересылки своих сообщений

Каждый **запрос** (англ. _request_) отправляется серверу, который обрабатывает его и возвращает **ответ** (англ. _response_). Между этими запросами и ответами как правило существуют многочисленные посредники, называемые **прокси**, которые выполняют различные операции и работают как шлюзы или **кэш**, например.

#### Клиент: участник обмена

Участник обмена (user agent) — это любой инструмент или устройство, действующие от лица пользователя. Эту задачу преимущественно выполняет веб-браузер; в некоторых случаях участниками выступают программы, которые используются инженерами и веб-разработчиками для отладки своих приложений.

Чтобы отобразить веб страницу, браузер отправляет начальный запрос для получения HTML-документа этой страницы. После этого браузер изучает этот документ, и запрашивает дополнительные файлы, необходимые для отбражения содержания веб-страницы (исполняемые скрипты, информацию о макете страницы - CSS таблицы стилей, дополнительные ресурсы в виде изображений и видео-файлов), которые непосредственно являются частью исходного документа, но расположены в других местах сети. Далее браузер соединяет все эти ресурсы для отображения их пользователю в виде единого документа — веб-страницы. Скрипты, выполняемые самим браузером, могут получать по сети дополнительные ресурсы на последующих этапах обработки веб-страницы, и браузер соответствующим образом обновляет отображение этой страницы для пользователя.

#### Веб-сервер

На другой стороне коммуникационного канала расположен сервер, который обслуживает (англ. _serve_) пользователя, предоставляя ему документы по запросу.

#### HTTP поток

Когда клиент хочет взаимодействовать с сервером, являясь конечным сервером или промежуточным прокси, он выполняет следующие шаги:

1. Открытие TCP соединения: TCP-соедиенение будет использоваться для отправки запроса или запросов, и получения ответа. Клиент может открыть новое соединение, переиспользовать существующее, или открыть несколько TCP-соединений к серверу.

2. Отправка HTTP-сообщения: HTTP-собщения (до HTTP/2) -- человеко-читаемо. Начиная с HTTP/2, простые сообщения инкапсилуруются во фреймы, делая невозможным их чтения напрямую, но принципиально остаются такими же.

3. Читает ответ от сервера:

4. Закрывает или переиспользует соединение для дальнейщих запросов.
